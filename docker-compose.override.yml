version: '3.8'

services:
  keymaker:
    environment:
      # Core Configuration
      NODE_ENV: production
      
      # Your actual API keys
      NEXT_PUBLIC_HELIUS_RPC: https://mainnet.helius-rpc.com/?api-key=67256d4f-7c51-444c-aba5-bdbb4f45bfa2Y
      NEXT_PUBLIC_JITO_ENDPOINT: https://mainnet.block-engine.jito.wtf
      RPC_URL: https://mainnet.helius-rpc.com/?api-key=67256d4f-7c51-444c-aba5-bdbb4f45bfa2Y
      
      # Birdeye API
      NEXT_PUBLIC_BIRDEYE_API_KEY: 8920f9fb048d4f84b1c7fcf2765335a1
      BIRDEYE_API_KEY: 8920f9fb048d4f84b1c7fcf2765335a1
      
      # Pump.fun API
      NEXT_PUBLIC_PUMPFUN_API_KEY: dnn58vv9at9mphvh90v6ehhh9hx4watramvq8u226t972tkb9mtn4e3gch85ccab5d36jcjqe126rx1ke17qcy1m71t70tbdc9b56ghtcnp66cupedrmwdvbct87jjuna5mn2mkmcwykua8nk6wjfdrwn2hu785hp4atqe46wr6cp1getbpgkbma9hn2t9tcd9jpd3aexkkuf8
      PUMPFUN_API_KEY: dnn58vv9at9mphvh90v6ehhh9hx4watramvq8u226t972tkb9mtn4e3gch85ccab5d36jcjqe126rx1ke17qcy1m71t70tbdc9b56ghtcnp66cupedrmwdvbct87jjuna5mn2mkmcwykua8nk6wjfdrwn2hu785hp4atqe46wr6cp1getbpgkbma9hn2t9tcd9jpd3aexkkuf8
      
      # Optional services (add keys when you have them)
      NEXT_PUBLIC_MOONSHOT_API_KEY: ""
      MOONSHOT_API_KEY: ""
      JITO_AUTH_TOKEN: ""
      HELIUS_API_KEY: 67256d4f-7c51-444c-aba5-bdbb4f45bfa2Y
      KEYPAIR: ""
      SENTRY_DSN: ""
      NEXT_PUBLIC_SENTRY_DSN: ""
    
    # Security measures
    security_opt:
      - no-new-privileges:true
    
    # Resource limits
    deploy:
      resources:
        limits:
          cpus: '2.0'
          memory: 4G
        reservations:
          cpus: '1.0'
          memory: 2G
    
    # Better logging configuration
    logging:
      driver: "json-file"
      options:
        max-size: "50m"
        max-file: "5"
        compress: "true"
        labels: "service=keymaker,env=production" 