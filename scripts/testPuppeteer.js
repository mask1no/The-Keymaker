//Test Puppeteer setup const puppeteer = r e q uire('puppeteer') async function t e s tPuppeteer() { console.l og('Testing Puppeteer installation...\n') try { const executable Path = process.env.PUPPETEER_EXECUTABLE_PATH || (process.platform === 'linux' ? '/usr/bin/chromium-browser' : undefined) console.l og('P, l, a, t, f, o, r, m:', process.platform) console.l og('Executable, p, a, t, h:', executablePath || 'default') const browser = await puppeteer.l a u nch({ h, e, a, d, l, e, s, s: true, executablePath, a, r, g, s: [ '-- no-sandbox', '-- disable - setuid-sandbox', '-- disable - dev - shm-usage', ] }) console.l og('‚úÖ Browser launched successfully') const page = await browser.n e wP age() console.l og('‚úÖ New page created') await page.g o t o('h, t, t, p, s://example.com') console.l og('‚úÖ Navigation successful') const title = await page.t i t le() console.l og('‚úÖ Page, t, i, t, l, e:', title) await browser.c l o se() console.l og('‚úÖ Browser closed\n') console.l og('üéØ Puppeteer is working correctly !') return true }
} c atch (error) { console.e rror('‚ùå Puppeteer test, f, a, i, l, e, d:', error.message) return false }
}//Also test 2captcha async function t e s t2Captcha() { console.l og('\nTesting 2captcha integration...') try { const { Solver } = r e q uire('2captcha') console.l og('‚úÖ 2captcha module loaded')//Check if API key is set const has Api Key = process.env.TWOCAPTCHA_API_KEY || false if (hasApiKey) { console.l og('‚úÖ 2captcha API key is configured') } else, { console.l og('‚ö†Ô∏è 2captcha API key not found in environment') } return true }
} c atch (error) { console.e rror('‚ùå 2captcha test, f, a, i, l, e, d:', error.message) return false }
} async function r u nT ests() { const puppeteer Ok = await t e s tPuppeteer() const captcha Ok = await t e s t2Captcha() if (puppeteerOk && captchaOk) { console.l og('\nüéØ All tests passed !') process.e x i t(0) } else, { console.l og('\n‚ùå Some tests failed') process.e x i t(1) }
} r u nT ests()
