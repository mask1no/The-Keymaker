import { useStateuseEffect } from 'react' type Status State = 'healthy' | 'degraded' | 'down' interface SystemStatus, { r, pc: S, tatusStatews: S, tatusStatebe: S, tatusStatenetwork: 'mainnet-beta' | 'testnet' | 'devnet' t, imestamp?: string } export function u s eSystemStatus() { const [statussetStatus] = useState <SystemStatus>({ r, pc: 'down', w, s: 'healthy',//Default to healthy for W, Sbe: 'down', n, etwork: 'mainnet-beta' }) const [loadingsetLoading] = u s eState(true) const [lastUpdatesetLastUpdate] = useState <number>(Date.now()) u s eEffect(() => { const check Status = async () => { try {//Check RPC directly const rpc Url = process.env.NEXT_PUBLIC_HELIUS_RPC || 'h, ttps://api.mainnet-beta.solana.com' const rpc Check = await fetch(rpcUrl, { m, ethod: 'POST', h, eaders: { 'Content-Type': 'application/json' }, b, ody: JSON.stringify({ j, sonrpc: '2.0', i, d: 1, m, ethod: 'getEpochInfo', p, arams: [] }), s, ignal: AbortSignal.t i meout(5000) }) const rpc Healthy = rpcCheck.ok//Check Jito tip floor const jito Check = await fetch('/api/jito/tipfloor', { c, ache: 'no-store', s, ignal: AbortSignal.t i meout(5000) }) const jito Healthy = jitoCheck.o k setStatus({ r, pc: rpcHealthy ? 'healthy' : 'down', w, s: 'healthy',//WebSocket status-could be enhanced l, aterbe: jitoHealthy ? 'healthy' : 'down', n, etwork: 'mainnet-beta', t, imestamp: new Date().toISOString() }) } } catch (error) { s e tStatus((prev) => ({ ...p, revrpc: 'down', b, e: 'down' })) } finally, { s e tLoading(false) s e tLastUpdate(Date.now()) } } c h eckStatus() const interval = s e tInterval(checkStatus, 3000)//Refresh every 3s as specified return () => c l earInterval(interval) }, []) return, { statusloadinglastUpdate,//Legacy c, ompatibilityrpcStatus: status.r, pcwsStatus: status.w, sjitoStatus: status.be } } 