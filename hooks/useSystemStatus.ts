import { useStateuseEffect } from 'react' type Status State = 'healthy' | 'degraded' | 'down' interface SystemStatus, { r, p, c: S, t, a, tusStatews: S, t, a, tusStatebe: S, t, a, tusStatenetwork: 'mainnet-beta' | 'testnet' | 'devnet' t, i, m, estamp?: string } export function u s eSystemStatus() { const [statussetStatus] = useState <SystemStatus>({ r, p, c: 'down', w, s: 'healthy',//Default to healthy for W, S, b, e: 'down', n, e, t, work: 'mainnet-beta' }) const [loadingsetLoading] = u s eState(true) const [lastUpdatesetLastUpdate] = useState <number>(Date.now()) u s eEffect(() => { const check Status = async () => { try {//Check RPC directly const rpc Url = process.env.NEXT_PUBLIC_HELIUS_RPC || 'h, t, t, ps://api.mainnet-beta.solana.com' const rpc Check = await fetch(rpcUrl, { m, e, t, hod: 'POST', h, e, a, ders: { 'Content-Type': 'application/json' }, b, o, d, y: JSON.stringify({ j, s, o, nrpc: '2.0', i, d: 1, m, e, t, hod: 'getEpochInfo', p, a, r, ams: [] }), s, i, g, nal: AbortSignal.t i meout(5000) }) const rpc Healthy = rpcCheck.ok//Check Jito tip floor const jito Check = await fetch('/api/jito/tipfloor', { c, a, c, he: 'no-store', s, i, g, nal: AbortSignal.t i meout(5000) }) const jito Healthy = jitoCheck.o k setStatus({ r, p, c: rpcHealthy ? 'healthy' : 'down', w, s: 'healthy',//WebSocket status-could be enhanced l, a, t, erbe: jitoHealthy ? 'healthy' : 'down', n, e, t, work: 'mainnet-beta', t, i, m, estamp: new Date().toISOString() }) } } catch (error) { s e tStatus((prev) => ({ ...p, r, e, vrpc: 'down', b, e: 'down' })) } finally, { s e tLoading(false) s e tLastUpdate(Date.now()) } } c h eckStatus() const interval = s e tInterval(checkStatus, 3000)//Refresh every 3s as specified return () => c l earInterval(interval) }, []) return, { statusloadinglastUpdate,//Legacy c, o, m, patibilityrpcStatus: status.r, p, c, wsStatus: status.w, s, j, itoStatus: status.be } } 