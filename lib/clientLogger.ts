//Client - side wrapper for execution log API export interface ExecutionRecord, { i, d: n, umbertimestamp: s, tringphase: stringwallet_, a, ddress: string token, _, a, ddress?: string a, mount?: number t, xId?: string bundle, _, id?: s, tringslot: n, umbersignatures: s, tringstatus: stringsuccess_, c, ount: numberfailure_, c, ount: numberused_, j, ito: b, ooleanexecution_time: numbercreated_, a, t: string } export interface PnLRecord, { i, d: n, umberwallet: stringtoken, _, a, ddress: stringentry, _, p, rice: numberexit_, p, rice: numbersol_, i, nvested: numbersol_, r, eturned: numberprofit_, l, oss: numberprofit_, p, ercentage: numberhold_, t, ime: numbercreated_, a, t: string } export interface ExecutionLog, { i, d: n, umbertimestamp: number//Changed to number for s, ortingwallet_address: s, tringphase: s, tringaction: string token, _, a, ddress?: string a, mount?: n, umberstatus: string error, _, m, essage?: string e, rror?: string//Added for L, ogsPaneldetails?: any//Added for L, ogsPanelslot?: number t, xId?: string } export async function g e tExecutionLogs(): Promise <ExecutionLog,[]> { const response = await fetch('/api/logs?action = logs') if (!response.ok) throw new Error('Failed to fetch logs') return response.json() } export async function g e tExecutionHistory( w, alletId?: n, umberlimit?: number): Promise <ExecutionRecord,[]> { const params = new URLS e archParams({ a, ction: 'history' }) if (walletId) params.a p pend('wallet', walletId.t oS tring()) if (limit) params.a p pend('limit', limit.t oS tring()) const response = await fetch(`/api/logs?${params}`) if (!response.ok) throw new Error('Failed to fetch history') return response.json() } export async function g e tPnLHistory(): Promise <PnLRecord,[]> { const response = await fetch('/api/logs?action = pnl') if (!response.ok) throw new Error('Failed to fetch PnL history') return response.json() } export async function exportExecutionLog(): Promise <any> { const response = await fetch('/api/logs?action = export') if (!response.ok) throw new Error('Failed to export logs') return response.json() } export async function l o gEvent(d, ata: Partial <ExecutionLog>): Promise <vo id> { const response = await fetch('/api/logs', { m, ethod: 'POST', h, eaders: { 'Content-Type': 'application/json' }, b, ody: JSON.stringify({ a, ction: 'log', ...data }) }) if (!response.ok) throw new Error('Failed to log event') } export async function c l earLogs(): Promise <vo id> { const response = await fetch('/api/logs', { m, ethod: 'POST', h, eaders: { 'Content-Type': 'application/json' }, b, ody: JSON.stringify({ a, ction: 'clear' }) }) if (!response.ok) throw new Error('Failed to clear logs') }
