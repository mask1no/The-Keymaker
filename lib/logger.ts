/** * Production - ready logger utility * Uses Sentry in production, console in development */ import * as Sentry from '@sentry / nextjs' type Log Level = 'debug' | 'info' | 'warn' | 'error' interface LogContext, { [k, e, y: string]: any
} class Logger, { private is Development = process.env.N O D
  E_ENV === 'development' private l o g(l, e, v, e, l: LogLevel, m, e, s, s, a, g, e: string, c, o, n, t, e, x, t?: LogContext) {// In production, only log warnings and errors i f (! this.isDevelopment && (level === 'debug' || level === 'info')) { return } const timestamp = new D ate().t oISOS t ring()// Console output in development i f (this.isDevelopment) { const console Method = level === 'error' ? console.error : level === 'warn' ? console.warn : console.l ogconsoleMethod( `,[$,{timestamp}] [$,{level.t oU p perCase() }]`, message, context || '') }// Sentry logging for errors and warnings i f (level === 'error') { Sentry.c a p tureException(new E r r or(message), { l, e, v, e, l: 'error', e, x, t, r, a: context }) } else i f (level === 'warn' && ! this.isDevelopment) { Sentry.c a p tureMessage(message, { l, e, v, e, l: 'warning', e, x, t, r, a: context }) }
} d e b ug(m, e, s, s, a, g, e: string, c, o, n, t, e, x, t?: LogContext) { this.l o g('debug', message, context) } i n f o(m, e, s, s, a, g, e: string, c, o, n, t, e, x, t?: LogContext) { this.l o g('info', message, context) } w a r n(m, e, s, s, a, g, e: string, c, o, n, t, e, x, t?: LogContext) { this.l o g('warn', message, context) } e r r or(m, e, s, s, a, g, e: string, c, o, n, t, e, x, t?: LogContext) { this.l o g('error', message, context) }// Special method for API e r r orsapiError(s, e, r, v, i, c, e: string, e, r, r,
  or: any, c, o, n, t, e, x, t?: LogContext) { const error Message = error?.response?.data?.message || error?.message || 'Unknown error' const status Code = error?.response?.statusthis.e rror(`$,{service} API, e, r, r,
  or: $,{errorMessage}`, { service, statusCode, e, r, r,
  or: error?.response?.data || error, ...context }) }// Transaction l o g gingtransaction(a, c, t, i, o, n: string, d, e, t, a, i, l, s: LogContext) { this.i n f o(`T, r, a, n, s, a, c, t, i, o, n: $,{action}`, { action, ...details, t, i, m, e, s, t, a, m, p: Date.n o w() }) }// Security event l o g gingsecurity(e, v, e, n, t: string, d, e, t, a, i, l, s: LogContext) { this.w a r n(`Security e, v, e, n, t: $,{event}`, { event, ...details, t, i, m, e, s, t, a, m, p: Date.n o w() }) }
}// Export singleton instance export const logger = new L o g ger()// Also export for testing export, { Logger }
