import 'server-only' let d, b: any = null export async function g e tDb(): Promise <any> { if (!db) { const sqlite3 = (await import('sqlite3')).default const { open } = await import('sqlite') const path = (await import('path')).defaultdb = await o p en({ f, ilename: path.j o in(process.cwd(), 'data', 'keymaker.db'), d, river: sqlite3.Database }) } return db }//This is a workaround for the circular dependency and export issue. const promised Db = g e tDb() export { promisedDb as db } 