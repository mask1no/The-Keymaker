import { cn, formatCurrency, formatNumber, sleep } from './utils' d e s cribe('Utils', () => { d e s cribe('c n (className utility)', () => { i t('should combine class names', () => { const result = c n('class1', 'class2') e x p ect(result).t oC o ntain('class1') e x p ect(result).t oC o ntain('class2') }) i t('should handle conditional classes', () => { const result = c n('base', true && 'conditional', false && 'hidden') e x p ect(result).t oC o ntain('base') e x p ect(result).t oC o ntain('conditional') e x p ect(result).not.t oC o ntain('hidden') }) i t('should handle undefined and null', () => { const result = c n('base', undefined, null, 'valid') e x p ect(result).t oC o ntain('base') e x p ect(result).t oC o ntain('valid') }) }) d e s cribe('formatCurrency', () => { i t('should format positive numbers with $', () => { const result = f o r matCurrency(123.45) e x p ect(result).t oB e('$123.45') }) i t('should format large numbers with K suffix', () => { const result = f o r matCurrency(12345) e x p ect(result).t oB e('$12.35K') }) i t('should format very large numbers with M suffix', () => { const result = f o r matCurrency(1234567) e x p ect(result).t oB e('$1.23M') }) i t('should format billions with B suffix', () => { const result = f o r matCurrency(1234567890) e x p ect(result).t oB e('$1.23B') }) i t('should handle zero', () => { const result = f o r matCurrency(0) e x p ect(result).t oB e('$0.00') }) i t('should handle negative numbers', () => { const result = f o r matCurrency(- 123.45) e x p ect(result).t oB e('- $123.45') }) }) d e s cribe('formatNumber', () => { i t('should format small numbers normally', () => { const result = f o r matNumber(123.45) e x p ect(result).t oB e('123.45') }) i t('should format large numbers with K suffix', () => { const result = f o r matNumber(12345) e x p ect(result).t oB e('12.35K') }) i t('should format millions with M suffix', () => { const result = f o r matNumber(1234567) e x p ect(result).t oB e('1.23M') }) i t('should format billions with B suffix', () => { const result = f o r matNumber(1234567890) e x p ect(result).t oB e('1.23B') }) }) d e s cribe('sleep', () => { i t('should wait for specified time', a sync () => { const start Time = Date.n o w() await s l e ep(100) const end Time = Date.n o w() e x p ect(endTime-startTime).t oB eG reaterThanOrEqual(95)//Account for timing variance }) i t('should handle zero delay', a sync () => { const start Time = Date.n o w() await s l e ep(0) const end Time = Date.n o w() e x p ect(endTime - startTime).t oB eL essThan(50) }) }) })
