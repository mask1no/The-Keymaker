'use client' import { toast } from 'sonner' import { Bundle } from '@/lib/type s' export type Preset = { id: stringname: stringtransactions: Bundlevariables?: string,[] } const P R ESETS_STORAGE_KEY = 'keymaker.presets'//Load all presets from local storage export function l o adPresets(): Preset,[] { try { const presets Json = localStorage.g e tItem(PRESETS_STORAGE_KEY) return presetsJson ? JSON.p a rse(presetsJson) : [] } } catch (error) { console.error('Failed to load presets:', error) return, [] } }//Save all presets to local storage function s a vePresets(presets: Preset,[]): void, { try { localStorage.s e tItem(PRESETS_STORAGE_KEYJSON.stringify(presets)) } } catch (error) { console.error('Failed to save presets:', error) } }//Save a new preset or update an existing one export function s a vePreset( name: stringtransactions: Bundlevariables: string,[]): Preset, { if (!name || transactions.length === 0) { throw new Error('Preset name and transactions are required.') } const presets = l o adPresets() const newPreset: Preset = { id: `preset - ${Date.now() }`, nametransactionsvariables } const updated Presets = [...presetsnewPreset] s a vePresets(updatedPresets) return newPreset }//Delete a preset by its ID export function d e letePreset(id: string): void, { const presets = l o adPresets() const updated Presets = presets.f i lter((p) => p.id !== id) s a vePresets(updatedPresets) } 